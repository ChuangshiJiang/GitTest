<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Canvas Test</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" type="image/x-icon" href="../ico/xps.ico">
</head>
<body>
    <canvas id="drawing" width="200" height="200">A drawing of something.</canvas>
    <canvas id="drawing2" width="200" height="200">A drawing fo something</canvas>
    <canvas id="drawing3" width="200" height="200">A drawing fo something</canvas>
    <canvas id="drawing4" width="200" height="200">A drawing fo something</canvas>
    <canvas id="drawing5" width="200" height="200">A drawing fo something</canvas>
    <canvas id="drawing6" width="200" height="200">A drawing fo something</canvas>
    <canvas id="drawing8" width="200" height="200">A drawing fo something</canvas>
    
    <script src="../js/EventUtil.js"></script>
    <script type="text/javascript">
        window.onload = function(){
            //alert("hello");
            var drawing = document.getElementById("drawing");
            //确定浏览器支持canvas
            if(drawing.getContext){
                var context = drawing.getContext("2d");
                context.fillStyle = "#ff0000";
                context.fillRect(10,10,50,50);
                context.fillStyle = "rgba(0,0,250,0.5)";
                context.fillRect(30,30,50,50);
                context.clearRect(40,40,10,10);

                //开始路径
                context.beginPath();
                context.arc(100,100,99,0,2*Math.PI,false);
                context.moveTo(194,100);
                context.arc(100,100,94,0,2*Math.PI,false);
                context.moveTo(100,100);
                context.lineTo(100,20);
                context.moveTo(100,100);
                context.lineTo(35,100);
                context.stroke();
                context.font = "bold 14px Microsoft YaHei";
                context.textAlign = "end";
                context.textBaseline = "middle";
                context.fillText("12",100,15);
            }


            //第二张画布
            var drawing2 = document.getElementById('drawing2');
            if(drawing2.getContext){
                var context = drawing2.getContext('2d');

                //开始路径
                context.beginPath();
                //绘制外圆
                context.arc(100,100,99,0,2*Math.PI,false);
                //绘制内圆
                context.moveTo(194,100);
                context.arc(100,100,94,2*Math.PI,false);
                //变换原点
                context.translate(100,100);
                //绘制分针
                context.moveTo(0,0);
                context.lineTo(0,-85);
                //绘制时针
                context.moveTo(0,0);
                context.lineTo(-65,0);
                //描边路径
                context.stroke();
            }

            //第三张画布，旋转表针
            var drawing3 = document.getElementById('drawing3');
            if(drawing3.getContext){
                var context = drawing3.getContext('2d');

                //开始路径
                context.beginPath();
                //绘制外圆
                context.arc(100,100,99,0,2*Math.PI,false);
                //绘制内圆
                context.moveTo(194,100);
                context.arc(100,100,94,2*Math.PI,false);
                //变换原点
                context.translate(100,100);

                //旋转表针
                context.rotate(1);
                //绘制分针
                context.moveTo(0,0);
                context.lineTo(0,-85);
                //绘制时针
                context.moveTo(0,0);
                context.lineTo(-65,0);
                //描边路径
                context.stroke();
            }

            //第四张画布
            var drawing4 = document.getElementById('drawing4');
            if(drawing4.getContext){
                var context = drawing4.getContext('2d');
                context.fillStyle = '#ff0000';
                context.save();

                context.fillStyle = '#00ff00';
                context.translate(100,100);
                context.save();

                context.fillStyle = '#0000ff';
                context.fillRect(0,0,100,200);//从点(100,100)开始绘制矩形

                context.restore();
                context.fillRect(10,10,100,200);//从点(110,110)开始绘制矩形

                context.restore();

                context.fillRect(0,0,100,200);//从点(0,0)开始绘制红色矩形

            }

            //第五张画布，画图像
            var drawing5 = document.getElementById('drawing5');
            if(drawing5.getContext){
                var context = drawing5.getContext('2d');

                //设置阴影
                context.shadowOffsetX = 5;
                context.shadowOffSetY =5;
                context.shadowBlur = 4;
                context.shadowColor = 'rgba(0,0,0,0.5)';
                //绘制红色矩形
                context.fillStyle = '#ff0000';
                context.fillRect(10,10,50,50);

                //绘制蓝色矩形
                context.fillStyle = 'rgba(0,0,255,1)';
                context.fillRect(30,30,50,50);

            }

            //第六张画布，渐变
            var drawing6 = document.getElementById('drawing6');
            if(drawing6.getContext){
                var context = drawing6.getContext('2d');
                var gradient = createRectLinearGradient(context,30,30,50,50);

                gradient.addColorStop(0,'white');
                gradient.addColorStop(1,'black');

                //绘制红色矩形
                context.fillStyle = '#ff0000';
                context.fillRect(10,10,50,50);

                //绘制蓝色矩形
                context.fillStyle = gradient;
                context.fillRect(30,30,50,50);
            }

            function createRectLinearGradient(content,x,y,width,height){
                return context.createLinearGradient(x,y,x+width,y+height);
            };

            //使用图像数据
            var drawing8 = document.getElementById('drawing8');
            if(drawing8.getContext){
                var context = drawing8.getContext('2d');
                //修改全局透明度
                context.globalAlpha = 0.5;
                //绘制红色矩形
                context.fillStyle = '#ff0000';
                context.fillRect(10,10,50,50);
                
                //绘制蓝色矩形
                context.fillStyle = "blue";
                context.fillRect(30,30,50,50);
                //重置全局透明度

                context.globalAlpha = 0;

            }

        };
    </script>
</body>
</html>
